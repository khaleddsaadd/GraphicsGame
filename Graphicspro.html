<html>
<head>
<script src="lib/three.min.js"></script>
<script src="lib/OrbitControls.js"></script> 
</head>
<body onkeydown="KeyPressed(event)">
<!-- My scene -->
	<canvas id="scene"></canvas>
<script>

var ww = 1500,
wh = 700;
function init()
{
    renderer = new THREE.WebGLRenderer({canvas : document.getElementById('scene')});
    renderer.setClearColor(0xffffff);
    renderer.setSize(ww,wh);

    scene = new THREE.Scene();
    camera = new THREE.PerspectiveCamera(50, ww/wh, 1, 10000 );
	camera.position.set(0, 250, 700);
	camera.lookAt(new THREE.Vector3(0,0,0));
	scene.add(camera);

    scene.add(camera);
    //control = new THREE.OrbitControls( camera );

    const loader = new THREE.TextureLoader();
    scene.background = loader.load( 'background1.jpg' );



    light = new THREE.DirectionalLight(0xffffff, 1);

    light.position.set( 50, 250, 500 );

    scene.add(light);
    renderer.render(scene, camera);
    createSphere();
    createBox1();
    createBox2();
    createBox3();

    //cube();
    };


    function createBox1()
    {
        cubes = new THREE.Object3D();

        geometry = new THREE.BoxGeometry(30,30,30);
        texture = new THREE.TextureLoader().load( '25649.jpg' );
        materialtex = new THREE.MeshBasicMaterial( { map: texture } );
        var x = -5 , y=0, z = 0;
        for(var i=0;i<4;i++)
        {
        
            cube1 = new THREE.Mesh(geometry, materialtex);
            cube1.position.set(x,y,z);
            if(i>=0)
            {
                x+=1; 
                y+=10;
                z+=140;
                
                camera.position.y=200;
            // camera.position.x =10;
            }

        

            cubes.add(cube1);
        }

        scene.add(cubes);
        //AnimateCubes();
    };

    function createBox2()
    {
        cubes2 = new THREE.Object3D();

        geometry = new THREE.BoxGeometry(30,30,30);
        texture = new THREE.TextureLoader().load( '25649.jpg' );
        materialtex = new THREE.MeshBasicMaterial( { map: texture } );       
         var a = 35 , b=30, c = 0;
        //Generate 70 random cubes
        for(var i=0;i<4;i++)
        {
        
            cube2 = new THREE.Mesh(geometry, materialtex);
            cube2.position.set(a,b,c);
            if(i>=0)
            {
                a+=1; 
                b+=15;
                c+=150;
                
                camera.position.y=200;
            // camera.position.x =10;
            }

        

            cubes2.add(cube2);
        }

        scene.add(cubes2);
        //AnimateCubes();
    };
    function createBox3()
    {
        cubes3 = new THREE.Object3D();

        geometry = new THREE.BoxGeometry(30,30,30);
        texture = new THREE.TextureLoader().load( '25649.jpg' );
        materialtex = new THREE.MeshBasicMaterial( { map: texture } );      
          var u = -50 , w=20, v = 0;
        //Generate 70 random cubes
        for(var i=0;i<4;i++)
        {
        
            cube3 = new THREE.Mesh(geometry, materialtex);
            cube3.position.set(u,w,v);
            if(i>=0)
            {
                u+=1; 
                w+=5;
                v+=150;
                
                camera.position.y=200;
            // camera.position.x =10;
            }

        

            cubes3.add(cube3);
        }

        scene.add(cubes3);
        //AnimateCubes();
    };

    var AnimateCubes = function() 
    {
    requestAnimationFrame(AnimateCubes);

 
    renderer.render(scene,camera);

    };
    


  
        function render()
        {
            renderer.render(scene, camera);
            // checkCollision();
            requestAnimationFrame(render);
        }
      


        function createSphere()
{
    //control = new THREE.OrbitControls( camera );
	sphereGeometry1 = new THREE.SphereGeometry(20, 20, 20);
    sphereMaterial1 = new THREE.MeshBasicMaterial( {color:0xff2255} );
    sphere1 = new THREE.Mesh( sphereGeometry1, sphereMaterial1 );
    sphere1.position.set( 0,-390, 5);
    scene.add(sphere1);
   
    
    renderer.render(scene,camera);
   
};


function KeyPressed (e)
 {
event.preventDefault();
    
switch(e.keyCode)
    {
		//Left key
		case 37:
            sphere1.position.x -= 10;
            camera.position.x-=1;
		break;
		//Up key
		case 38:
             
            sphere1.position.z -= 10;
            camera.position.z +=-1;
		break;
		//Right key
		case 39:
            sphere1.position.x += 10;
            camera.position.x+=1;
		break;
		//Down key
		case 40:
            sphere1.position.z += 10;
            //camera.position.z -=-1;
        break;
        
//------------------camera move---------------------
		//A key
		case 65:
			camera.position.x -= 10;
		break;
		//W key
		case 87:
			camera.position.y += 10;
		break;
		//D key
		case 68:
			camera.position.x += 10;
		break;
		//S key
		case 83:
			camera.position.y -= 10;
		break;
    }
   
   // removecube();
    renderer.render(scene,camera);
 };

    init();

</script>
</body>
